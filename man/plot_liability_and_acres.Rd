% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_helpers.R
\name{plot_liability_and_acres}
\alias{plot_liability_and_acres}
\title{Plot Liability and Net Reported Acres Faceted by a Grouping Variable}
\usage{
plot_liability_and_acres(
  data,
  grouping_variable,
  grouping_name = NULL,
  time_scale_theme = NULL,
  general_theme = NULL,
  label_liability = "Billion U.S. dollars\\n",
  label_net_reported_acres = "Million acres\\n",
  palette = c("#003524", "#00583D", "#A0BD78", "#BED73B", "#BE5E27", "#FFC425",
    "#FEF389", "#D7E5C8", "#9DD9F7", "#51ABA0", "#0F374B")
)
}
\arguments{
\item{data}{A \code{data.frame} containing at least these columns:
\itemize{
\item \code{commodity_year} - numeric or factor; the x-axis.
\item \code{value} - numeric; the bar heights.
\item \code{variable} - factor with the levels
\code{"(A) Liability in U.S. dollars"} and
\code{"(B) Net reported acres"}.
\item The column referenced by \code{grouping_variable}.
}}

\item{grouping_variable}{A character scalar giving the name of the column in
\code{data} that defines the groups (e.g.\ \code{"commodity"}, \code{"state"}).}

\item{grouping_name}{Optional character scalar used as the legend title.
Defaults to the value of \code{grouping_variable} if \code{NULL}.}

\item{time_scale_theme}{Optional \code{ggplot2} scale or theme element that
controls the x-axis breaks/labels.  If \code{NULL}, the function applies
\code{scale_x_continuous(breaks = unique(data$commodity_year), labels = unique(data$commodity_year))}.}

\item{general_theme}{Optional \code{ggplot2} theme applied to both panels.
If \code{NULL}, \code{ers_theme()} is used with additional tweaks for font sizes,
legend layout, and facet strips.}

\item{label_liability}{Y-axis label for Panel A.  Default
\code{"Billion U.S. dollars\\\\n"}.}

\item{label_net_reported_acres}{Y-axis label for Panel B.  Default
\code{"Million acres\\\\n"}.}

\item{palette}{A character vector of hex colors used to fill the bars.
The default is an 11-color palette aligned with ERS/NDSU branding.}
}
\value{
A named list with five objects:
\describe{
\item{\code{fig}}{A \code{gtable} containing the assembled two-panel figure, shared
x-axis label, and bottom legend.}
\item{\code{figA}}{The \code{ggplot} object for Panel A.}
\item{\code{figB}}{The \code{ggplot} object for Panel B.}
\item{\code{ldgnd}}{The extracted legend as a \code{gtable}.}
\item{\code{xlabT}}{The shared x-axis grob as a \code{gtable}.}
}
}
\description{
Produces a two-panel bar chart:
\enumerate{
\item \strong{Panel A} - Liability (in U.S.\ dollars) by year and group.
\item \strong{Panel B} - Net reported acres (in acres) by year and group.
}
The panels share the same x-axis (commodity years) and a single legend
that is displayed beneath the figure.
}
\details{
Internally the function:
\enumerate{
\item Duplicates the column named by \code{grouping_variable} into
\code{data$grouping_variable} for convenient aesthetic mapping.
\item Builds two separate \code{ggplot} bar charts (one per \code{variable} level),
applies user themes and palettes, and hides their legends.
\item Extracts a shared legend and x-axis grob with \code{gtable_filter()}.
\item Assembles everything with \code{gridExtra::grid.arrange()}.
}
}
\examples{
\dontrun{
# Group by commodity with a custom x-axis theme
plot_liability_and_acres(
  data = data_comm,
  grouping_variable = "commodity",
  grouping_name = "Commodity",
  time_scale_theme = ggplot2::scale_x_continuous(
    breaks = seq(2008, 2024, 2),
    labels = seq(2008, 2024, 2)
  ),
  general_theme = ggplot2::theme_minimal()
)
}

}
