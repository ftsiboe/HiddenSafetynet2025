% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_helpers.R
\name{plot_us_states_choropleth}
\alias{plot_us_states_choropleth}
\title{Plot an Annotated US States Choropleth Map}
\usage{
plot_us_states_choropleth(
  data,
  legend_title = NULL,
  palette = c("#003524", "#00583D", "#A0BD78", "#BED73B", "#BE5E27", "#FFC425",
    "#FEF389", "#D7E5C8", "#9DD9F7", "#51ABA0", "#0F374B"),
  table_grob = NULL,
  label_size = 2.5
)
}
\arguments{
\item{data}{A data frame containing at least:
\itemize{
\item \code{state_code}: numeric FIPS code matching \code{urbnmapr::get_urbn_map("states")}
\item \code{value_cat}: categorical variable used for fill colors
\item \code{value}: numeric variable used to display numeric labels
}}

\item{legend_title}{Character; title for the fill legend. If \code{NULL}, no title is shown.}

\item{palette}{Character vector of colours (hex codes) to use for the categories.
Defaults to a 10-colour NDSU-inspired palette.}

\item{table_grob}{A \code{grob} object (e.g. from \code{gridExtra::tableGrob}) to annotate on the map;
if \code{NULL}, no table is added.}

\item{label_size}{label size for sgeom_sf_text}
}
\value{
A \code{ggplot} object showing the US states choropleth with annotated labels.
}
\description{
Creates a choropleth map of US states colored by a categorical value, with state labels
and special treatment for small states (VT, NH, and other small ones) using repelled text.
Optionally embeds a table grob in the bottom-left corner of the map.
}
\details{
\itemize{
\item Uses \code{urbnmapr::get_urbn_map(map = "states", sf = TRUE)} to fetch a US states basemap.
\item Joins the input data on \code{state_code} and filters out states with missing \code{value_cat}.
\item Computes equal-area centroids (EPSG:5070) to place labels.
\item Flags states with area < 50,000 km^2 as "small" and applies repelled text labels.
\item Standard states get text labels placed via \code{geom_sf_text()}.
\item Small states in the east and west are nudged horizontally; VT & NH get custom nudges.
\item Adds an optional table in the bottom-left via \code{annotation_custom()}.
}
}
\examples{
\dontrun{
library(sf)
# Assume `my_data` has columns: state_code, value_cat, value
gg <- plot_us_states_choropleth(
  data = my_data,
  legend_title = "Category",
  palette = c("#003524", "#00583D", "#A0BD78", "#BED73B",
              "#BE5E27", "#FFC425", "#FEF389", "#D7E5C8",
              "#9DD9F7", "#51ABA0", "#0F374B")
)
print(gg)
}
}
