% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clean_supplemental_plan_shares.R
\name{clean_eco_share_by_insurance_plan}
\alias{clean_eco_share_by_insurance_plan}
\title{ECO share by insurance plan}
\usage{
clean_eco_share_by_insurance_plan(sob)
}
\arguments{
\item{sob}{A \code{data.table} (or data.frame) of SOB records that already
contain aggregated acre and dollar fields. Must include at least:
\code{insured_acres}, \code{endorsed_acres}, \code{insurance_plan_code},
\code{coverage_level_percent}, \code{commodity_year}, \code{state_code}, \code{county_code},
\code{commodity_code}, \code{type_code}, \code{practice_code}.}
}
\value{
A \code{data.table} with unique rows by
\verb{commodity_year, state_code, county_code, commodity_code, type_code, practice_code, insurance_plan_code} and columns:
\code{eco90}, \code{eco95} (shares in [0,1]); missing combinations may be \code{NA}.
}
\description{
Computes Enhanced Coverage Option (ECO) \strong{shares of insured acres} for
base plans (1=YP, 2=RP, 3=RP-HPE), using ECO plan codes 87-89 mapped back
to 1-3, and returns separate shares for ECO-90 and ECO-95.
}
\details{
\itemize{
\item Base data are summed for plans \code{1:3}.
\item ECO records are selected via plan codes \code{87:89}, remapped to \code{1:3}
(subtract 86), and coverage levels are labeled as \code{"eco90"} / \code{"eco95"}
(using \code{coverage_level_percent} * 100).
\item ECO shares are computed as \code{eco_endorsed_acres / insured_acres} by key.
}
}
